\documentclass[dvipdfmx]{standalone}
\usepackage{tikz,tikz-3dplot}

\newcommand{\tdcylinder}[7]{% x, y, z, radius, height, theta_d, phi_d
    \CalculateSin{#6};
    \CalculateCos{#6};
    \CalculateSin{#7};
    \CalculateCos{#7};

    \tdplotcrossprod(\UseSin{#6} * \UseSin{#7}, -1 * \UseSin{#6} * \UseCos{#7}, \UseCos{#6})(0, 0, 1);
    \pgfmathsetmacro\lenV{sqrt(\tdplotresx * \tdplotresx + \tdplotresy * \tdplotresy + \tdplotresz * \tdplotresz)}
    \pgfmathsetmacro\ex{\tdplotresx / \lenV}
    \pgfmathsetmacro\ey{\tdplotresy / \lenV}
    \pgfmathsetmacro\ez{\tdplotresz / \lenV}
    \pgfmathsetmacro\sa{#7 + 180}

    \filldraw [fill=white, draw=black] (#1 + #4, #2, #3) arc (0:360:#4);
    \filldraw [fill=white, draw=black] (#1 + #4 * \ex, #2 + #4 * \ey, #3) arc (\sa:\sa + 180:#4) -- (#1 - #4 * \ex, #2 - #4 * \ey, #3 + #5) arc (\sa - 180:\sa:#4) -- cycle;
    \filldraw [fill=white, draw=black] (#1 + #4, #2, #3 + #5) arc (0:360:#4);
}

\begin{document}
\def\theta_d{70}
\def\phi_d{30}
\tdplotsetmaincoords{\theta_d}{\phi_d}
\begin{tikzpicture}[tdplot_main_coords]
    \tdcylinder{0}{0}{1}{0.3}{0.5}{\theta_d}{\phi_d};
    \draw[thick, ->] (0, 0, 0) -- (1, 0, 0) node[left]{$x$};
    \draw[thick, ->] (0, 0, 0) -- (0, 1, 0) node[below]{$y$};
    \draw[thick, ->] (0, 0, 0) -- (0, 0, 1) node[left]{$z$};
\end{tikzpicture}
\end{document}